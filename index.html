<html>

<head>
    <title>Timer</title>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>

    <script type="text/javascript" language="javascript">
        $(document).ready(function() {
            $("#output").append("0m00s");
            setInterval("delayedPost()", 1000);
            $("#driver").click(function() {
              if($("#output:contains('not a timer')").length){
                $.post("http://localhost:8080/start", {name: $("input[name='s']").val()});
              } else {
                $.post("http://localhost:8080/stop", {name: $("input[name='s']").val()});
              }
            });
        });

        function delayedPost() {
            $.post("http://localhost:8080/status", {name: $("input[name='s']").val()}, function(data, status) {
                $("#output").empty();
                $("#output").append(data);
            });
            if($("#output:contains('not a timer')").length){
              $("#driver").val("Start");
            } else {
              $("#driver").val("Stop");
            }
        }
    </script>
</head>

<body>
    <p>Timer: <input type="text" name = "s" id="name"></p>
    <div id="output"></div>
    <input type="submit" id="driver" value="Start" />
</body>

</html>
